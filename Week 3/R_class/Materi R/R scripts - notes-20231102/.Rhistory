# load the package Epi and dataframe births
library(Epi)
data(births)
# fit the regression model
lmobj <- lm(bweight ~ matage + hyp, data=births)
# create the model matrix and model response
y <- births$bweight
X <- cbind(int=1, matage=births$matage, hyp=births$hyp)
head(X, 3)
# compare with standard functions
mf <- model.frame(lmobj)
head(mf, 3)
head(model.response(mf), 3)
head(model.matrix(lmobj), 3)
# fit the model manually
(beta <- drop(solve(t(X)%*%X) %*% t(X)%*%y))
